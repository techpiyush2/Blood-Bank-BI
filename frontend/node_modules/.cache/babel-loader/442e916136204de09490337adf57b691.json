{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\pk409\\\\OneDrive\\\\Desktop\\\\MERN-Stack-Blood-Bank-master\\\\frontend\\\\src\\\\screens\\\\BloodRequestScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport ReactPaginate from 'react-paginate';\nimport { Link } from 'react-router-dom';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listBloodRequest, createBloodRequest, updateBloodRequest, deleteBloodRequest } from '../actions/bloodRequestActions';\nimport { confirmAlert } from 'react-confirm-alert';\nimport { Confirm } from '../components/Confirm';\nconst initialValues = {\n  patient_id: '',\n  patient_name: '',\n  blood_group: '',\n  platelet: '',\n  plasma: '',\n  rbc: '',\n  wb: ''\n};\n\nconst BloodRequestScreen = ({\n  match\n}) => {\n  _s();\n\n  const [values, setValues] = useState(initialValues);\n  const [edit, setEdit] = useState(false);\n  const dispatch = useDispatch();\n  const bloodRequestList = useSelector(state => state.bloodRequestList);\n  const {\n    bloodRequests,\n    error,\n    loading\n  } = bloodRequestList;\n  const bloodRequestCreate = useSelector(state => state.bloodRequestCreate);\n  const {\n    error: errorCreate,\n    loading: loadingCreate,\n    success: successCreate\n  } = bloodRequestCreate;\n  const bloodRequestUpdate = useSelector(state => state.bloodRequestUpdate);\n  const {\n    error: errorUpdate,\n    loading: loadingUpdate,\n    success: successUpdate\n  } = bloodRequestUpdate;\n  const bloodRequestDelete = useSelector(state => state.bloodRequestDelete);\n  const {\n    error: errorDelete,\n    loading: loadingDelete,\n    success: successDelete\n  } = bloodRequestDelete;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n\n  const formCleanHandler = () => {\n    setValues({ ...values,\n      patient_id: '',\n      patient_name: '',\n      blood_group: '',\n      platelet: '',\n      plasma: '',\n      rbc: '',\n      wb: ''\n    });\n    setEdit(false);\n  };\n\n  useEffect(() => {\n    dispatch(listBloodRequest());\n\n    if (successCreate || successUpdate) {\n      formCleanHandler();\n    } // eslint-disable-next-line\n\n  }, [dispatch, successCreate, successUpdate, successDelete]);\n\n  const deleteHandler = id => {\n    confirmAlert(Confirm(() => dispatch(deleteBloodRequest(id))));\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    edit ? dispatch(updateBloodRequest(values)) : dispatch(createBloodRequest(values));\n  };\n\n  const handleChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const editHandler = e => {\n    setValues({ ...values,\n      _id: e._id,\n      patient_id: e.patient_id,\n      patient_name: e.patient_name,\n      blood_group: e.blood_group,\n      platelet: e.blood_component.platelet,\n      plasma: e.blood_component.plasma,\n      rbc: e.blood_component.rbc,\n      wb: e.blood_component.wb\n    });\n    setEdit(true);\n  };\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 5;\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = bloodRequests && bloodRequests.slice(indexOfFirstItem, indexOfLastItem);\n  const totalItems = bloodRequests && Math.ceil(bloodRequests.length / itemsPerPage);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade\",\n      id: \"editBloodRequestModal\",\n      \"data-bs-backdrop\": \"static\",\n      \"data-bs-keyboard\": \"false\",\n      tabIndex: \"-1\",\n      \"aria-labelledby\": \"editBloodRequestModalLabel\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content modal-background\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              id: \"editBloodRequestModalLabel\",\n              children: edit ? 'Edit Blood Request' : 'Add Blood Request'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              \"data-bs-dismiss\": \"modal\",\n              \"aria-label\": \"Close\",\n              onClick: formCleanHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [successCreate && /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"success\",\n              children: \"Blood Registered Successfully\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), loadingCreate ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this) : errorCreate && /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"danger\",\n              children: errorCreate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 32\n            }, this), successUpdate && /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"success\",\n              children: \"Blood Updated Successfully\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), loadingUpdate ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this) : errorUpdate && /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"danger\",\n              children: errorUpdate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 32\n            }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"danger\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: submitHandler,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row gy-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n                  className: \"mt-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"patient_id\",\n                  children: \"Patient ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"patient_id\",\n                    onChange: handleChange,\n                    type: \"text\",\n                    value: values.patient_id,\n                    className: \"form-control \",\n                    placeholder: \"Enter patient ID\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"patient_name\",\n                  children: \"Patient Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"patient_name\",\n                    onChange: handleChange,\n                    type: \"text\",\n                    value: values.patient_name,\n                    className: \"form-control \",\n                    placeholder: \"Enter patient name\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"blood_group\",\n                  children: \"Blood Group\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"blood_group\",\n                    onChange: handleChange,\n                    value: values.blood_group,\n                    className: \"form-control \",\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Blood Group...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"A+\",\n                      children: \"A+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"A-\",\n                      children: \"A-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"B+\",\n                      children: \"B+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"B-\",\n                      children: \"B-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"AB+\",\n                      children: \"AB+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"AB-\",\n                      children: \"AB-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"O+\",\n                      children: \"O+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"O-\",\n                      children: \"O-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"plasma\",\n                  children: \"Plasma\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"plasma\",\n                    onChange: handleChange,\n                    type: \"text\",\n                    value: values.plasma,\n                    className: \"form-control \",\n                    placeholder: \"Enter plasma\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"platelet\",\n                  children: \"Platelet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"platelet\",\n                    onChange: handleChange,\n                    type: \"text\",\n                    value: values.platelet,\n                    className: \"form-control \",\n                    placeholder: \"Enter platelet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"rbc\",\n                  children: \"RBC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"rbc\",\n                    onChange: handleChange,\n                    type: \"text\",\n                    value: values.rbc,\n                    className: \"form-control \",\n                    placeholder: \"Enter rbc\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"wb\",\n                  children: \"Whole Blood\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"wb\",\n                    onChange: handleChange,\n                    type: \"text\",\n                    value: values.wb,\n                    className: \"form-control \",\n                    placeholder: \"Enter whole blood\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-footer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-secondary\",\n                    \"data-bs-dismiss\": \"modal\",\n                    onClick: formCleanHandler,\n                    children: \"Close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-primary\",\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Blood Request\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-light btn-sm\",\n        \"data-bs-toggle\": \"modal\",\n        \"data-bs-target\": \"#editBloodRequestModal\",\n        children: [' ', /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), \" REGISTER NEW REQUEST\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), successDelete && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"success\",\n      children: \"Blood Deleted Successfully\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }, this), loadingDelete ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }, this) : errorDelete && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: errorDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 24\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-sm hover bordered striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"DATE & TIME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"P. ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"P. Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"B. Group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Plasma\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Platelet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"RBC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"W. B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"REGISTERER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: bloodRequests && currentItems.map(blood => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Moment, {\n                  format: \"YYYY-MM-DD HH:mm:ss\",\n                  children: moment(blood.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: blood.patient_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: blood.patient_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: blood.blood_group\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: blood.blood_component.plasma\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: blood.blood_component.platelet\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: blood.blood_component.rbc\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: blood.blood_component.wb\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: blood.user && blood.user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"btn-group\",\n                role: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-light btn-sm\",\n                  onClick: e => editHandler(blood),\n                  \"data-bs-toggle\": \"modal\",\n                  \"data-bs-target\": \"#editBloodRequestModal\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/blood-issue/${blood._id}`,\n                  className: \"btn btn-primary btn-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-share\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 25\n                }, this), userInfo && userInfo.isHospital && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger btn-sm\",\n                  onClick: () => deleteHandler(blood._id),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 23\n              }, this)]\n            }, blood._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this), bloodRequests && !loading && bloodRequests.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-danger d-flex justify-content-center\",\n          children: \"No data found!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 15\n        }, this), bloodRequests && bloodRequests.length > itemsPerPage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(ReactPaginate, {\n            previousLabel: \"previous\",\n            previousClassName: \"page-item\",\n            previousLinkClassName: \"page-link\",\n            nextLabel: \"next\",\n            nextClassName: \"page-item\",\n            nextLinkClassName: \"page-link\",\n            pageClassName: \"page-item\",\n            pageLinkClassName: \"page-link\",\n            activeClassName: \"page-item active\",\n            activeLinkClassName: 'page-link',\n            breakLabel: '...',\n            breakClassName: 'page-item',\n            breakLinkClassName: 'page-link',\n            pageCount: totalItems && totalItems,\n            marginPagesDisplayed: 2,\n            pageRangeDisplayed: 2,\n            onPageChange: e => setCurrentPage(e.selected + 1),\n            containerClassName: 'page pagination'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, void 0, true);\n};\n\n_s(BloodRequestScreen, \"pcSmypLS2A59t7MCubARPcQcnoo=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = BloodRequestScreen;\nexport default BloodRequestScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"BloodRequestScreen\");","map":{"version":3,"sources":["C:/Users/pk409/OneDrive/Desktop/MERN-Stack-Blood-Bank-master/frontend/src/screens/BloodRequestScreen.js"],"names":["React","useEffect","useState","ReactPaginate","Link","Moment","moment","useDispatch","useSelector","Message","Loader","listBloodRequest","createBloodRequest","updateBloodRequest","deleteBloodRequest","confirmAlert","Confirm","initialValues","patient_id","patient_name","blood_group","platelet","plasma","rbc","wb","BloodRequestScreen","match","values","setValues","edit","setEdit","dispatch","bloodRequestList","state","bloodRequests","error","loading","bloodRequestCreate","errorCreate","loadingCreate","success","successCreate","bloodRequestUpdate","errorUpdate","loadingUpdate","successUpdate","bloodRequestDelete","errorDelete","loadingDelete","successDelete","userLogin","userInfo","formCleanHandler","deleteHandler","id","submitHandler","e","preventDefault","handleChange","target","name","value","editHandler","_id","blood_component","currentPage","setCurrentPage","itemsPerPage","indexOfLastItem","indexOfFirstItem","currentItems","slice","totalItems","Math","ceil","length","map","blood","createdAt","user","isHospital","selected"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SACEC,gBADF,EAEEC,kBAFF,EAGEC,kBAHF,EAIEC,kBAJF,QAKO,gCALP;AAMA,SAASC,YAAT,QAA6B,qBAA7B;AACA,SAASC,OAAT,QAAwB,uBAAxB;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,UAAU,EAAE,EADQ;AAEpBC,EAAAA,YAAY,EAAE,EAFM;AAGpBC,EAAAA,WAAW,EAAE,EAHO;AAIpBC,EAAAA,QAAQ,EAAE,EAJU;AAKpBC,EAAAA,MAAM,EAAE,EALY;AAMpBC,EAAAA,GAAG,EAAE,EANe;AAOpBC,EAAAA,EAAE,EAAE;AAPgB,CAAtB;;AAUA,MAAMC,kBAAkB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AAAA;;AACxC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsB1B,QAAQ,CAACe,aAAD,CAApC;AACA,QAAM,CAACY,IAAD,EAAOC,OAAP,IAAkB5B,QAAQ,CAAC,KAAD,CAAhC;AAEA,QAAM6B,QAAQ,GAAGxB,WAAW,EAA5B;AACA,QAAMyB,gBAAgB,GAAGxB,WAAW,CAAEyB,KAAD,IAAWA,KAAK,CAACD,gBAAlB,CAApC;AACA,QAAM;AAAEE,IAAAA,aAAF;AAAiBC,IAAAA,KAAjB;AAAwBC,IAAAA;AAAxB,MAAoCJ,gBAA1C;AAEA,QAAMK,kBAAkB,GAAG7B,WAAW,CAAEyB,KAAD,IAAWA,KAAK,CAACI,kBAAlB,CAAtC;AACA,QAAM;AACJF,IAAAA,KAAK,EAAEG,WADH;AAEJF,IAAAA,OAAO,EAAEG,aAFL;AAGJC,IAAAA,OAAO,EAAEC;AAHL,MAIFJ,kBAJJ;AAMA,QAAMK,kBAAkB,GAAGlC,WAAW,CAAEyB,KAAD,IAAWA,KAAK,CAACS,kBAAlB,CAAtC;AACA,QAAM;AACJP,IAAAA,KAAK,EAAEQ,WADH;AAEJP,IAAAA,OAAO,EAAEQ,aAFL;AAGJJ,IAAAA,OAAO,EAAEK;AAHL,MAIFH,kBAJJ;AAMA,QAAMI,kBAAkB,GAAGtC,WAAW,CAAEyB,KAAD,IAAWA,KAAK,CAACa,kBAAlB,CAAtC;AACA,QAAM;AACJX,IAAAA,KAAK,EAAEY,WADH;AAEJX,IAAAA,OAAO,EAAEY,aAFL;AAGJR,IAAAA,OAAO,EAAES;AAHL,MAIFH,kBAJJ;AAMA,QAAMI,SAAS,GAAG1C,WAAW,CAAEyB,KAAD,IAAWA,KAAK,CAACiB,SAAlB,CAA7B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAeD,SAArB;;AAEA,QAAME,gBAAgB,GAAG,MAAM;AAC7BxB,IAAAA,SAAS,CAAC,EACR,GAAGD,MADK;AAERT,MAAAA,UAAU,EAAE,EAFJ;AAGRC,MAAAA,YAAY,EAAE,EAHN;AAIRC,MAAAA,WAAW,EAAE,EAJL;AAKRC,MAAAA,QAAQ,EAAE,EALF;AAMRC,MAAAA,MAAM,EAAE,EANA;AAORC,MAAAA,GAAG,EAAE,EAPG;AAQRC,MAAAA,EAAE,EAAE;AARI,KAAD,CAAT;AAUAM,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAZD;;AAcA7B,EAAAA,SAAS,CAAC,MAAM;AACd8B,IAAAA,QAAQ,CAACpB,gBAAgB,EAAjB,CAAR;;AACA,QAAI8B,aAAa,IAAII,aAArB,EAAoC;AAClCO,MAAAA,gBAAgB;AACjB,KAJa,CAKd;;AACD,GANQ,EAMN,CAACrB,QAAD,EAAWU,aAAX,EAA0BI,aAA1B,EAAyCI,aAAzC,CANM,CAAT;;AAQA,QAAMI,aAAa,GAAIC,EAAD,IAAQ;AAC5BvC,IAAAA,YAAY,CAACC,OAAO,CAAC,MAAMe,QAAQ,CAACjB,kBAAkB,CAACwC,EAAD,CAAnB,CAAf,CAAR,CAAZ;AACD,GAFD;;AAIA,QAAMC,aAAa,GAAIC,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AAEA5B,IAAAA,IAAI,GACAE,QAAQ,CAAClB,kBAAkB,CAACc,MAAD,CAAnB,CADR,GAEAI,QAAQ,CAACnB,kBAAkB,CAACe,MAAD,CAAnB,CAFZ;AAGD,GAND;;AAQA,QAAM+B,YAAY,GAAIF,CAAD,IAAO;AAC1B5B,IAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAa,OAAC6B,CAAC,CAACG,MAAF,CAASC,IAAV,GAAiBJ,CAAC,CAACG,MAAF,CAASE;AAAvC,KAAD,CAAT;AACD,GAFD;;AAIA,QAAMC,WAAW,GAAIN,CAAD,IAAO;AACzB5B,IAAAA,SAAS,CAAC,EACR,GAAGD,MADK;AAERoC,MAAAA,GAAG,EAAEP,CAAC,CAACO,GAFC;AAGR7C,MAAAA,UAAU,EAAEsC,CAAC,CAACtC,UAHN;AAIRC,MAAAA,YAAY,EAAEqC,CAAC,CAACrC,YAJR;AAKRC,MAAAA,WAAW,EAAEoC,CAAC,CAACpC,WALP;AAMRC,MAAAA,QAAQ,EAAEmC,CAAC,CAACQ,eAAF,CAAkB3C,QANpB;AAORC,MAAAA,MAAM,EAAEkC,CAAC,CAACQ,eAAF,CAAkB1C,MAPlB;AAQRC,MAAAA,GAAG,EAAEiC,CAAC,CAACQ,eAAF,CAAkBzC,GARf;AASRC,MAAAA,EAAE,EAAEgC,CAAC,CAACQ,eAAF,CAAkBxC;AATd,KAAD,CAAT;AAWAM,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAbD;;AAeA,QAAM,CAACmC,WAAD,EAAcC,cAAd,IAAgChE,QAAQ,CAAC,CAAD,CAA9C;AAEA,QAAMiE,YAAY,GAAG,CAArB;AACA,QAAMC,eAAe,GAAGH,WAAW,GAAGE,YAAtC;AACA,QAAME,gBAAgB,GAAGD,eAAe,GAAGD,YAA3C;AACA,QAAMG,YAAY,GAChBpC,aAAa,IAAIA,aAAa,CAACqC,KAAd,CAAoBF,gBAApB,EAAsCD,eAAtC,CADnB;AAEA,QAAMI,UAAU,GACdtC,aAAa,IAAIuC,IAAI,CAACC,IAAL,CAAUxC,aAAa,CAACyC,MAAd,GAAuBR,YAAjC,CADnB;AAGA,sBACE;AAAA,4BACE;AACE,MAAA,SAAS,EAAC,YADZ;AAEE,MAAA,EAAE,EAAC,uBAFL;AAGE,0BAAiB,QAHnB;AAIE,0BAAiB,OAJnB;AAKE,MAAA,QAAQ,EAAC,IALX;AAME,yBAAgB,4BANlB;AAOE,qBAAY,MAPd;AAAA,6BASE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,gCAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA,oCACE;AAAI,cAAA,SAAS,EAAC,aAAd;AAA4B,cAAA,EAAE,EAAC,4BAA/B;AAAA,wBACGtC,IAAI,GAAG,oBAAH,GAA0B;AADjC;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AACE,cAAA,IAAI,EAAC,QADP;AAEE,cAAA,SAAS,EAAC,WAFZ;AAGE,iCAAgB,OAHlB;AAIE,4BAAW,OAJb;AAKE,cAAA,OAAO,EAAEuB;AALX;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAaE;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,uBACGX,aAAa,iBACZ,QAAC,OAAD;AAAS,cAAA,OAAO,EAAC,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAMGF,aAAa,gBACZ,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,oBADY,GAGZD,WAAW,iBAAI,QAAC,OAAD;AAAS,cAAA,OAAO,EAAC,QAAjB;AAAA,wBAA2BA;AAA3B;AAAA;AAAA;AAAA;AAAA,oBATnB,EAYGO,aAAa,iBACZ,QAAC,OAAD;AAAS,cAAA,OAAO,EAAC,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbJ,EAeGD,aAAa,gBACZ,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,oBADY,GAGZD,WAAW,iBAAI,QAAC,OAAD;AAAS,cAAA,OAAO,EAAC,QAAjB;AAAA,wBAA2BA;AAA3B;AAAA;AAAA;AAAA;AAAA,oBAlBnB,EAoBGP,OAAO,gBACN,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,oBADM,GAEJD,KAAK,gBACP,QAAC,OAAD;AAAS,cAAA,OAAO,EAAC,QAAjB;AAAA,wBAA2BA;AAA3B;AAAA;AAAA;AAAA;AAAA,oBADO,gBAGP;AAAM,cAAA,QAAQ,EAAEoB,aAAhB;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,wCACE;AAAI,kBAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,kBAAA,OAAO,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,YADP;AAEE,oBAAA,QAAQ,EAAEG,YAFZ;AAGE,oBAAA,IAAI,EAAC,MAHP;AAIE,oBAAA,KAAK,EAAE/B,MAAM,CAACT,UAJhB;AAKE,oBAAA,SAAS,EAAC,eALZ;AAME,oBAAA,WAAW,EAAC,kBANd;AAOE,oBAAA,QAAQ;AAPV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAHF,eAcE;AAAO,kBAAA,OAAO,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAdF,eAeE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,cADP;AAEE,oBAAA,QAAQ,EAAEwC,YAFZ;AAGE,oBAAA,IAAI,EAAC,MAHP;AAIE,oBAAA,KAAK,EAAE/B,MAAM,CAACR,YAJhB;AAKE,oBAAA,SAAS,EAAC,eALZ;AAME,oBAAA,WAAW,EAAC,oBANd;AAOE,oBAAA,QAAQ;AAPV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAfF,eA0BE;AAAO,kBAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA1BF,eA2BE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,aADP;AAEE,oBAAA,QAAQ,EAAEuC,YAFZ;AAGE,oBAAA,KAAK,EAAE/B,MAAM,CAACP,WAHhB;AAIE,oBAAA,SAAS,EAAC,eAJZ;AAKE,oBAAA,QAAQ,MALV;AAAA,4CAOE;AAAQ,sBAAA,KAAK,EAAC,EAAd;AAAiB,sBAAA,QAAQ,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAPF,eAUE;AAAQ,sBAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAVF,eAWE;AAAQ,sBAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAXF,eAYE;AAAQ,sBAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAZF,eAaE;AAAQ,sBAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAbF,eAcE;AAAQ,sBAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAdF,eAeE;AAAQ,sBAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAfF,eAgBE;AAAQ,sBAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAhBF,eAiBE;AAAQ,sBAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBA3BF,eAgDE;AAAO,kBAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAhDF,eAiDE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,QADP;AAEE,oBAAA,QAAQ,EAAEsC,YAFZ;AAGE,oBAAA,IAAI,EAAC,MAHP;AAIE,oBAAA,KAAK,EAAE/B,MAAM,CAACL,MAJhB;AAKE,oBAAA,SAAS,EAAC,eALZ;AAME,oBAAA,WAAW,EAAC;AANd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAjDF,eA2DE;AAAO,kBAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA3DF,eA4DE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,UADP;AAEE,oBAAA,QAAQ,EAAEoC,YAFZ;AAGE,oBAAA,IAAI,EAAC,MAHP;AAIE,oBAAA,KAAK,EAAE/B,MAAM,CAACN,QAJhB;AAKE,oBAAA,SAAS,EAAC,eALZ;AAME,oBAAA,WAAW,EAAC;AANd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBA5DF,eAsEE;AAAO,kBAAA,OAAO,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAtEF,eAuEE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,KADP;AAEE,oBAAA,QAAQ,EAAEqC,YAFZ;AAGE,oBAAA,IAAI,EAAC,MAHP;AAIE,oBAAA,KAAK,EAAE/B,MAAM,CAACJ,GAJhB;AAKE,oBAAA,SAAS,EAAC,eALZ;AAME,oBAAA,WAAW,EAAC;AANd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAvEF,eAiFE;AAAO,kBAAA,OAAO,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAjFF,eAkFE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,IADP;AAEE,oBAAA,QAAQ,EAAEmC,YAFZ;AAGE,oBAAA,IAAI,EAAC,MAHP;AAIE,oBAAA,KAAK,EAAE/B,MAAM,CAACH,EAJhB;AAKE,oBAAA,SAAS,EAAC,eALZ;AAME,oBAAA,WAAW,EAAC;AANd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAlFF,eA6FE;AAAK,kBAAA,SAAS,EAAC,cAAf;AAAA,0CACE;AACE,oBAAA,IAAI,EAAC,QADP;AAEE,oBAAA,SAAS,EAAC,mBAFZ;AAGE,uCAAgB,OAHlB;AAIE,oBAAA,OAAO,EAAE4B,gBAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eASE;AAAQ,oBAAA,IAAI,EAAC,QAAb;AAAsB,oBAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BATF;AAAA;AAAA;AAAA;AAAA;AAAA,wBA7FF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AATF;AAAA;AAAA;AAAA;AAAA,YADF,eAoKE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AACE,QAAA,SAAS,EAAC,sBADZ;AAEE,0BAAe,OAFjB;AAGE,0BAAe,wBAHjB;AAAA,mBAKG,GALH,eAME;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YApKF,EAgLGH,aAAa,iBACZ,QAAC,OAAD;AAAS,MAAA,OAAO,EAAC,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAjLJ,EAmLGD,aAAa,gBACZ,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADY,GAGZD,WAAW,iBAAI,QAAC,OAAD;AAAS,MAAA,OAAO,EAAC,QAAjB;AAAA,gBAA2BA;AAA3B;AAAA;AAAA;AAAA;AAAA,YAtLnB,EAwLGX,OAAO,gBACN,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADM,GAEJD,KAAK,gBACP,QAAC,OAAD;AAAS,MAAA,OAAO,EAAC,QAAjB;AAAA,gBAA2BA;AAA3B;AAAA;AAAA;AAAA;AAAA,YADO,gBAGP;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCACE;AAAO,UAAA,SAAS,EAAC,uCAAjB;AAAA,kCACE;AAAA,mCACE;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBARF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATF,eAUE;AAAA;AAAA;AAAA;AAAA,sBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAeE;AAAA,sBACGD,aAAa,IACZoC,YAAY,CAACM,GAAb,CAAkBC,KAAD,iBACf;AAAA,sCACE;AAAA,uCACE,QAAC,MAAD;AAAQ,kBAAA,MAAM,EAAC,qBAAf;AAAA,4BACGvE,MAAM,CAACuE,KAAK,CAACC,SAAP;AADT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE;AAAA,0BAAKD,KAAK,CAAC3D;AAAX;AAAA;AAAA;AAAA;AAAA,sBAPF,eAQE;AAAA,0BAAK2D,KAAK,CAAC1D;AAAX;AAAA;AAAA;AAAA;AAAA,sBARF,eASE;AAAA,0BAAK0D,KAAK,CAACzD;AAAX;AAAA;AAAA;AAAA;AAAA,sBATF,eAUE;AAAA,0BAAKyD,KAAK,CAACb,eAAN,CAAsB1C;AAA3B;AAAA;AAAA;AAAA;AAAA,sBAVF,eAWE;AAAA,0BAAKuD,KAAK,CAACb,eAAN,CAAsB3C;AAA3B;AAAA;AAAA;AAAA;AAAA,sBAXF,eAYE;AAAA,0BAAKwD,KAAK,CAACb,eAAN,CAAsBzC;AAA3B;AAAA;AAAA;AAAA;AAAA,sBAZF,eAaE;AAAA,0BAAKsD,KAAK,CAACb,eAAN,CAAsBxC;AAA3B;AAAA;AAAA;AAAA;AAAA,sBAbF,eAeE;AAAA,0BAAKqD,KAAK,CAACE,IAAN,IAAcF,KAAK,CAACE,IAAN,CAAWnB;AAA9B;AAAA;AAAA;AAAA;AAAA,sBAfF,eAiBE;AAAI,gBAAA,SAAS,EAAC,WAAd;AAA0B,gBAAA,IAAI,EAAC,OAA/B;AAAA,wCACE;AACE,kBAAA,SAAS,EAAC,sBADZ;AAEE,kBAAA,OAAO,EAAGJ,CAAD,IAAOM,WAAW,CAACe,KAAD,CAF7B;AAGE,oCAAe,OAHjB;AAIE,oCAAe,wBAJjB;AAAA,yCAME;AAAG,oBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,wBADF,eASE,QAAC,IAAD;AACE,kBAAA,EAAE,EAAG,gBAAeA,KAAK,CAACd,GAAI,EADhC;AAEE,kBAAA,SAAS,EAAC,wBAFZ;AAAA,yCAIE;AAAG,oBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,wBATF,EAeGZ,QAAQ,IAAIA,QAAQ,CAAC6B,UAArB,iBACC;AACE,kBAAA,SAAS,EAAC,uBADZ;AAEE,kBAAA,OAAO,EAAE,MAAM3B,aAAa,CAACwB,KAAK,CAACd,GAAP,CAF9B;AAAA,yCAIE;AAAG,oBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,wBAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjBF;AAAA,eAASc,KAAK,CAACd,GAAf;AAAA;AAAA;AAAA;AAAA,oBADF;AAFJ;AAAA;AAAA;AAAA;AAAA,kBAfF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAgEG7B,aAAa,IAAI,CAACE,OAAlB,IAA6BF,aAAa,CAACyC,MAAd,KAAyB,CAAtD,iBACC;AAAM,UAAA,SAAS,EAAC,2CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjEJ,EAqEGzC,aAAa,IAAIA,aAAa,CAACyC,MAAd,GAAuBR,YAAxC,iBACC;AAAK,UAAA,SAAS,EAAC,+BAAf;AAAA,iCACE,QAAC,aAAD;AACE,YAAA,aAAa,EAAC,UADhB;AAEE,YAAA,iBAAiB,EAAC,WAFpB;AAGE,YAAA,qBAAqB,EAAC,WAHxB;AAIE,YAAA,SAAS,EAAC,MAJZ;AAKE,YAAA,aAAa,EAAC,WALhB;AAME,YAAA,iBAAiB,EAAC,WANpB;AAOE,YAAA,aAAa,EAAC,WAPhB;AAQE,YAAA,iBAAiB,EAAC,WARpB;AASE,YAAA,eAAe,EAAC,kBATlB;AAUE,YAAA,mBAAmB,EAAE,WAVvB;AAWE,YAAA,UAAU,EAAE,KAXd;AAYE,YAAA,cAAc,EAAE,WAZlB;AAaE,YAAA,kBAAkB,EAAE,WAbtB;AAcE,YAAA,SAAS,EAAEK,UAAU,IAAIA,UAd3B;AAeE,YAAA,oBAAoB,EAAE,CAfxB;AAgBE,YAAA,kBAAkB,EAAE,CAhBtB;AAiBE,YAAA,YAAY,EAAGhB,CAAD,IAAOU,cAAc,CAACV,CAAC,CAACyB,QAAF,GAAa,CAAd,CAjBrC;AAkBE,YAAA,kBAAkB,EAAE;AAlBtB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAtEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,qBA7LJ;AAAA,kBADF;AAiSD,CAhYD;;GAAMxD,kB;UAIalB,W,EACQC,W,EAGEA,W,EAOAA,W,EAOAA,W,EAOTA,W;;;KA7BdiB,kB;AAkYN,eAAeA,kBAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport ReactPaginate from 'react-paginate'\nimport { Link } from 'react-router-dom'\nimport Moment from 'react-moment'\nimport moment from 'moment'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport {\n  listBloodRequest,\n  createBloodRequest,\n  updateBloodRequest,\n  deleteBloodRequest,\n} from '../actions/bloodRequestActions'\nimport { confirmAlert } from 'react-confirm-alert'\nimport { Confirm } from '../components/Confirm'\n\nconst initialValues = {\n  patient_id: '',\n  patient_name: '',\n  blood_group: '',\n  platelet: '',\n  plasma: '',\n  rbc: '',\n  wb: '',\n}\n\nconst BloodRequestScreen = ({ match }) => {\n  const [values, setValues] = useState(initialValues)\n  const [edit, setEdit] = useState(false)\n\n  const dispatch = useDispatch()\n  const bloodRequestList = useSelector((state) => state.bloodRequestList)\n  const { bloodRequests, error, loading } = bloodRequestList\n\n  const bloodRequestCreate = useSelector((state) => state.bloodRequestCreate)\n  const {\n    error: errorCreate,\n    loading: loadingCreate,\n    success: successCreate,\n  } = bloodRequestCreate\n\n  const bloodRequestUpdate = useSelector((state) => state.bloodRequestUpdate)\n  const {\n    error: errorUpdate,\n    loading: loadingUpdate,\n    success: successUpdate,\n  } = bloodRequestUpdate\n\n  const bloodRequestDelete = useSelector((state) => state.bloodRequestDelete)\n  const {\n    error: errorDelete,\n    loading: loadingDelete,\n    success: successDelete,\n  } = bloodRequestDelete\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin\n\n  const formCleanHandler = () => {\n    setValues({\n      ...values,\n      patient_id: '',\n      patient_name: '',\n      blood_group: '',\n      platelet: '',\n      plasma: '',\n      rbc: '',\n      wb: '',\n    })\n    setEdit(false)\n  }\n\n  useEffect(() => {\n    dispatch(listBloodRequest())\n    if (successCreate || successUpdate) {\n      formCleanHandler()\n    }\n    // eslint-disable-next-line\n  }, [dispatch, successCreate, successUpdate, successDelete])\n\n  const deleteHandler = (id) => {\n    confirmAlert(Confirm(() => dispatch(deleteBloodRequest(id))))\n  }\n\n  const submitHandler = (e) => {\n    e.preventDefault()\n\n    edit\n      ? dispatch(updateBloodRequest(values))\n      : dispatch(createBloodRequest(values))\n  }\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value })\n  }\n\n  const editHandler = (e) => {\n    setValues({\n      ...values,\n      _id: e._id,\n      patient_id: e.patient_id,\n      patient_name: e.patient_name,\n      blood_group: e.blood_group,\n      platelet: e.blood_component.platelet,\n      plasma: e.blood_component.plasma,\n      rbc: e.blood_component.rbc,\n      wb: e.blood_component.wb,\n    })\n    setEdit(true)\n  }\n\n  const [currentPage, setCurrentPage] = useState(1)\n\n  const itemsPerPage = 5\n  const indexOfLastItem = currentPage * itemsPerPage\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage\n  const currentItems =\n    bloodRequests && bloodRequests.slice(indexOfFirstItem, indexOfLastItem)\n  const totalItems =\n    bloodRequests && Math.ceil(bloodRequests.length / itemsPerPage)\n\n  return (\n    <>\n      <div\n        className='modal fade'\n        id='editBloodRequestModal'\n        data-bs-backdrop='static'\n        data-bs-keyboard='false'\n        tabIndex='-1'\n        aria-labelledby='editBloodRequestModalLabel'\n        aria-hidden='true'\n      >\n        <div className='modal-dialog'>\n          <div className='modal-content modal-background'>\n            <div className='modal-header'>\n              <h5 className='modal-title' id='editBloodRequestModalLabel'>\n                {edit ? 'Edit Blood Request' : 'Add Blood Request'}\n              </h5>\n              <button\n                type='button'\n                className='btn-close'\n                data-bs-dismiss='modal'\n                aria-label='Close'\n                onClick={formCleanHandler}\n              ></button>\n            </div>\n            <div className='modal-body'>\n              {successCreate && (\n                <Message variant='success'>\n                  Blood Registered Successfully\n                </Message>\n              )}\n              {loadingCreate ? (\n                <Loader />\n              ) : (\n                errorCreate && <Message variant='danger'>{errorCreate}</Message>\n              )}\n\n              {successUpdate && (\n                <Message variant='success'>Blood Updated Successfully</Message>\n              )}\n              {loadingUpdate ? (\n                <Loader />\n              ) : (\n                errorUpdate && <Message variant='danger'>{errorUpdate}</Message>\n              )}\n              {loading ? (\n                <Loader />\n              ) : error ? (\n                <Message variant='danger'>{error}</Message>\n              ) : (\n                <form onSubmit={submitHandler}>\n                  <div className='row gy-2'>\n                    <hr className='mt-0' />\n                    <label htmlFor='patient_id'>Patient ID</label>\n                    <div className='form-group'>\n                      <input\n                        name='patient_id'\n                        onChange={handleChange}\n                        type='text'\n                        value={values.patient_id}\n                        className='form-control '\n                        placeholder='Enter patient ID'\n                        required\n                      />\n                    </div>\n                    <label htmlFor='patient_name'>Patient Name</label>\n                    <div className='form-group'>\n                      <input\n                        name='patient_name'\n                        onChange={handleChange}\n                        type='text'\n                        value={values.patient_name}\n                        className='form-control '\n                        placeholder='Enter patient name'\n                        required\n                      />\n                    </div>\n                    <label htmlFor='blood_group'>Blood Group</label>\n                    <div className='form-group'>\n                      <select\n                        name='blood_group'\n                        onChange={handleChange}\n                        value={values.blood_group}\n                        className='form-control '\n                        required\n                      >\n                        <option value='' disabled>\n                          Blood Group...\n                        </option>\n                        <option value='A+'>A+</option>\n                        <option value='A-'>A-</option>\n                        <option value='B+'>B+</option>\n                        <option value='B-'>B-</option>\n                        <option value='AB+'>AB+</option>\n                        <option value='AB-'>AB-</option>\n                        <option value='O+'>O+</option>\n                        <option value='O-'>O-</option>\n                      </select>\n                    </div>\n                    <label htmlFor='plasma'>Plasma</label>\n                    <div className='form-group'>\n                      <input\n                        name='plasma'\n                        onChange={handleChange}\n                        type='text'\n                        value={values.plasma}\n                        className='form-control '\n                        placeholder='Enter plasma'\n                      />\n                    </div>\n                    <label htmlFor='platelet'>Platelet</label>\n                    <div className='form-group'>\n                      <input\n                        name='platelet'\n                        onChange={handleChange}\n                        type='text'\n                        value={values.platelet}\n                        className='form-control '\n                        placeholder='Enter platelet'\n                      />\n                    </div>\n                    <label htmlFor='rbc'>RBC</label>\n                    <div className='form-group'>\n                      <input\n                        name='rbc'\n                        onChange={handleChange}\n                        type='text'\n                        value={values.rbc}\n                        className='form-control '\n                        placeholder='Enter rbc'\n                      />\n                    </div>\n                    <label htmlFor='wb'>Whole Blood</label>\n                    <div className='form-group'>\n                      <input\n                        name='wb'\n                        onChange={handleChange}\n                        type='text'\n                        value={values.wb}\n                        className='form-control '\n                        placeholder='Enter whole blood'\n                      />\n                    </div>\n\n                    <div className='modal-footer'>\n                      <button\n                        type='button'\n                        className='btn btn-secondary'\n                        data-bs-dismiss='modal'\n                        onClick={formCleanHandler}\n                      >\n                        Close\n                      </button>\n                      <button type='submit' className='btn btn-primary'>\n                        Submit\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className='d-flex justify-content-between'>\n        <h1>Blood Request</h1>\n        <button\n          className='btn btn-light btn-sm'\n          data-bs-toggle='modal'\n          data-bs-target='#editBloodRequestModal'\n        >\n          {' '}\n          <i className='fas fa-plus'></i> REGISTER NEW REQUEST\n        </button>\n      </div>\n\n      {successDelete && (\n        <Message variant='success'>Blood Deleted Successfully</Message>\n      )}\n      {loadingDelete ? (\n        <Loader />\n      ) : (\n        errorDelete && <Message variant='danger'>{errorDelete}</Message>\n      )}\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant='danger'>{error}</Message>\n      ) : (\n        <>\n          <div className='table-responsive'>\n            <table className='table table-sm hover bordered striped'>\n              <thead>\n                <tr>\n                  <th>DATE & TIME</th>\n                  <th>P. ID</th>\n                  <th>P. Name</th>\n                  <th>B. Group</th>\n                  <th>Plasma</th>\n                  <th>Platelet</th>\n                  <th>RBC</th>\n                  <th>W. B</th>\n                  <th>REGISTERER</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {bloodRequests &&\n                  currentItems.map((blood) => (\n                    <tr key={blood._id}>\n                      <td>\n                        <Moment format='YYYY-MM-DD HH:mm:ss'>\n                          {moment(blood.createdAt)}\n                        </Moment>\n                      </td>\n\n                      <td>{blood.patient_id}</td>\n                      <td>{blood.patient_name}</td>\n                      <td>{blood.blood_group}</td>\n                      <td>{blood.blood_component.plasma}</td>\n                      <td>{blood.blood_component.platelet}</td>\n                      <td>{blood.blood_component.rbc}</td>\n                      <td>{blood.blood_component.wb}</td>\n\n                      <td>{blood.user && blood.user.name}</td>\n\n                      <td className='btn-group' role='group'>\n                        <button\n                          className='btn btn-light btn-sm'\n                          onClick={(e) => editHandler(blood)}\n                          data-bs-toggle='modal'\n                          data-bs-target='#editBloodRequestModal'\n                        >\n                          <i className='fas fa-edit'></i>\n                        </button>\n                        <Link\n                          to={`/blood-issue/${blood._id}`}\n                          className='btn btn-primary btn-sm'\n                        >\n                          <i className='fas fa-share'></i>\n                        </Link>\n                        {userInfo && userInfo.isHospital && (\n                          <button\n                            className='btn btn-danger btn-sm'\n                            onClick={() => deleteHandler(blood._id)}\n                          >\n                            <i className='fas fa-trash'></i>\n                          </button>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n              </tbody>\n            </table>\n            {bloodRequests && !loading && bloodRequests.length === 0 && (\n              <span className='text-danger d-flex justify-content-center'>\n                No data found!\n              </span>\n            )}\n            {bloodRequests && bloodRequests.length > itemsPerPage && (\n              <div className='d-flex justify-content-center'>\n                <ReactPaginate\n                  previousLabel='previous'\n                  previousClassName='page-item'\n                  previousLinkClassName='page-link'\n                  nextLabel='next'\n                  nextClassName='page-item'\n                  nextLinkClassName='page-link'\n                  pageClassName='page-item'\n                  pageLinkClassName='page-link'\n                  activeClassName='page-item active'\n                  activeLinkClassName={'page-link'}\n                  breakLabel={'...'}\n                  breakClassName={'page-item'}\n                  breakLinkClassName={'page-link'}\n                  pageCount={totalItems && totalItems}\n                  marginPagesDisplayed={2}\n                  pageRangeDisplayed={2}\n                  onPageChange={(e) => setCurrentPage(e.selected + 1)}\n                  containerClassName={'page pagination'}\n                />\n              </div>\n            )}\n          </div>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default BloodRequestScreen\n"]},"metadata":{},"sourceType":"module"}